# dag 1
Deze dag ben ik begonnen met het opzetten van mijn project. Ik heb een korte uitleg gegeven van de nis van mijn project, hoe ik het eindresultaat voor mij zie en wat ik nodig heb voor mijn project. Daarnaast heb ik een kleine schets gemaakt van hoe ik denk dat mijn uiteindelijke visualisatie eruit komt te zien

# dag 2
#### Begin van de dag: 
Wat ik vandaag wil doen is inventariseren wat ik allemaal moet doen voor het project in zijn geheel (dus visualisatie zelf, logboek etc..) en wat ik speciefiek nodig heb voor mijn project. Welke data heb ik nodig en hoe kom ik hier aan, wat moet ik precies weten en kunnen om te beginnen aan mijn project. Ik zie het een beetje als het klaarzetten van de ingredienten voordat je gaat koken, om zo overzicht te bewaren en je doel voor ogen te houden.
#### Einde van de dag: 
Ik heb vandaag een begin gemaakt met de design.md, daarin heb ik beschreven hoe mijn uiteindelijke visualisatie eruit komt te zien, waar de interactie in zit en wat ik er allemaal voor nodig heb/voor moet weten/kunnen. Daarnaast kwam ik er vandaag achter dat er nog niet in het HIS zoiets was als een wijk waarin een persoon woont, dus ik moet nu eerst zelf wijken aan patienten koppelen. Dit ga ik doen dmv de postcode. Ik heb de patientendata (postcode, leeftijd, episodes) al uit het HIS gehaald en deze in een CSV file gezet. aangezien hier nog postcodes in staan, wil ik deze nog niet online zetten. Ik ben nu bezig met het schrijven van een programmaatje dat deze postcodes om zet in wijk en buurt codes. Ik kan met dit programmaatje al wel zien welke postcode bij welke wijk hoort, alleen nu nog zo maken dat hij de csv om kan schrijven. 

# dag 3
#### Begin van de dag: 
Vandaag ga ik de dataset afmaken. Er is nog een belangrijk iets dat ik moet uitzoeken, en dat is welke aandoeningen ik erin wil hebben. Ik moet sowieso nog alle administratieve zaken eruit filteren, want het maakt weinig uit om daarop te zoeken. Ik kan ze er wel in laten, maar naast dat ze weinig toevoegen, zorgen ze ook nog voor extra entries in bepaalde hoofdcategorieen. Ik zou ze er natuurlijk ook gewoon uit kunnen filteren op het moment dat er gezocht wordt op een hoofdcategorie, maar ik voorzie dat dat problemenn geeft later (of dat het in ieder geval lastiger is). Ik hoop dat het vandaag helemaal lukt om alle data ready te hebben, zodat ik morgen (of liever nog vanmiddag) echt kan beginnen met het programmeren.

# dag 4
#### Begin van de dag: 
Ik was vergeten aan het einde van dag 3 te posten, dus dat komt nu maar in dag 4. Het is mij gelukt om de CSV helemaal om te schrijven, zodat ik nu de patientendata precies heb zoals ik het nodig heb. Daarnaast heb ik de episodelijst gevonden/gescraped. Ik moet alleen nog een goede manier vinden om deze te noteren. Ik kan nu dus bijna beginnen met programmeren. Mijn doel is om vandaag in ieder geval een opzet te hebben voor de visualisatie. Ik bedoel hiermee dat ik dus dat ik een html wil hebben die de css en de d3 laadt, dat de d3 de data in laadt, dat je al een map met de wijken van haarlem ziet, en dat je de twee windows zonder inhoudt al kunt zien en misschien slepen. Ik wil gewoon nu het hele framework hebben, zodat ik morgen kan beginnen met de echte functionaliteit.
#### intermezzo: keuzemoment
Ik ben even aan het denken hoe ik het ga aanpakken wat betrefd de privacy. Ik heb nu al die ICPC codes gevonden, maar welke daarvan moet ik allemaal gebruiken, zonder dat de privacy in het geding komt. De officiele regels zijn volgens mij dat patienteninformatie zo in het openbaar gebruikt mag worden, zolang deze informatie niet herleid kan worden tot één enkele persoon. Maar als je heel specifiek kunt zoeken op aandoeningen die maar weinig voor komen, dan is de privacy wel in het geding, omdat je dan van iemand een specifieke aandoening erachter zou kunnen komen in welke wijk diegene woont. Ik denk dat ik het als volgt ga aanpakken: Haarlem is verdeelt in wijken, de wijken zijn weer verdeelt in buurten. De map laat als eerste de wijken zien, maar er is een optie om de buurten te laten zien. Als de map de wijken weergeeft, kun je zoeken op een specifieke aandoening. Hierdoor komt de privacy niet in het geding, omdat de wijken van haarlem erg groot zijn (5.000 in de kleinste wijk tot 30.000 in de grootste). Met specifieke aandoening bedoel ik dan de tweede reeks categorieen van de ICPC codes, dus alle codes met een letter en de eerste twee cijfers (bv. A30). Het is dus in zijn geheel niet mogelijk om specifiek op aandoeningen te zoeken. Voor de buurten kun je alleen zoeken op hoofdcategorie, dus de eerste letter in een ICPC code (bv T). Daarnaast ga ik er voor zorgen dat het minimale aantal mensen genoteerd staat als <5 (dit is een voorbeeld, aangeziek ik nog geen idee heb van de aantallen die ik heb, moet ik even kijken welk getal ik hier voor kies). Is een aandoening zeldzaam en is er in een bepaalde wijk of buurt maar 1 iemand met die aandoening, dan staat er alsnog dat er <5 zijn (of 0-5). Dit doe ik ook met aandoeningen die helemaal niet voorkomen in een wijk. Op deze manier wordt de privacy nog eens extra gewaarborgd, en het doet niet af aan de kwaliteit van de visualisatie aangezien het er om gaat waar de meeste ziekten voorkomen, en niet de minste. 

# dag 5
#### Begin van de dag:
Aangezien mijn dagen pas laat eindigen, is het misschien maar beter om aan het begin van de dag te bescrijven wat ik de vorige dag heb bereikt, en wat ik deze dag wil gaan doen. Mijn doel van dag 4 was om alle data helemaal klaar te hebben en een begin te maken aan het visualiseren. Het is mij in ieder geval gelukt om alle data klaar voor gebruik te hebben, en ik heb een kleine fundering gelegd wat betrefd de visualisatie. Dit houdt in dat ik nu alle data ook ingeladen krijg in d3, en dat ik een map heb van haarlem die ingedeeld is in de wijken er buurten. Deze map heb ik van wikipedia gehaald, waarna er nog wat kleine aanpassingen moesten gebeuren (zoals het voorzien van elke wijk en buurt met een id, zodat ik deze later gemakkelijk terug kan vinden). Ik heb er voor gekozen om ook de indeling van haarlem in wijken en de indeling van de ICPC codes als csv in te laden. Ik kan nu dus eindelijk beginnen met de echte visualisatie. 
#### Eind van de dag:
Vandaag heb ik geprobeerd om alvast de algehele structuur van de visualisatie op te zetten, maar ik kwam al snel vast te zitten bij de map. Nu moest ik vandaag ook presenteren, en daar kreeg ik de tip om datamaps te gebruiken, omdat dit een vriendelijke js library is voor het werken met een map, dus dit moet ik dan ook maar gaan proberen. Afgezien hiervan kwamen er geen tips uit de presentatie, misschien omdat ik nog niet zo veel had, dus dan is er ook niet zo veel om feedback op te krijgen. Als ik kijk naar mijn progressie ten opzichte van de groep, dan zie ik dat ik wel nog wat werk moet doen. Ik weet van mijzelf dat ik erg zwak ben ik het vinden van code dat anderen al voor mij geschreven hebben, en aangezien ik zelf te weinig verstand heb van d3 om alles van scratch te kunnen programmeren, heb ik denk ik wat meer tijd nodig dan de gemiddelde student om bij te blijven bij dit project. Ten opzichte van de andere projecten is mijn project ook niet al te ambitieus, dus het zou wel goed moeten komen. In ieder geval ga ik dit weekend kijken voor die datamaps, en dan kan ik hopelijk maandag beginnen met een mooie werkende basis. 

# dag 8 
#### Begin van de dag:
In de afgelopen dagen heb ik gewerkt aan de map. Ik was van plan om met datamaps te gaan werken, maar ik kon nergens op internet een goede tutorial vinden over hoe ik een svg map moest converteren naar een datamaps bestand, dus ik heb het, na een hoop research, maar over een andere boeg gegooid. Ik ben nu zelf mijn map zo aan het maken dat je een tooltip ziet met de naam van de wijk of buurt, als je over deze heen hovered. In datamaps zat dit al helemaal ingebouwd, nu moet ik dat zelf inbouwen. Over het algemeen ben ik wel fan van het "from scratch" maken van specifieke functies, maar dat is misschien ook wel het product van dat ik dit vaak doe, aangezien ik slecht ben in het vinden en toepassen van code dat andere mensen hebben gemaakt. Wat ik nu heb is de map van haarlem, waarbij je een knop hebt om te wisselen tussen de kaart waarop je de wijken ziet en de kaart waarop je de buurten ziet. Als je over de map hoveren, dan wordt er gelogd over welke wijk je hovered, en dit wil ik implementeren in een tooltip (+ een highlight van de wijk als je er over hovered). Ik heb al wel een div gemaakt voor de tooltip, maar het lukt mij nog niet om deze op basis van de positie van de muis gelijkmatig mee te laten bewegen met de muis. Dit komt omdat deze div los staat van de svg, en de svg getransformeerd is. Dus mijn plan voor vandaag is om er in ieder geval voor te zorge dat de tooltip goed werkt.
#### Update:
Ik ben er net achter gekomen dat ik niet kan weten hoeveel patienten er per wijk in haarlem wonen, dus dat moet ik nog even opnieuw uit zoeken. Ik ga ook even kijken hoe ik dit in mijn project ga verwerken, ik denk dat ik in de csv van mijn wijken een extra kolom toe ga voegen met hoeveel patienten er in die wijk wonen. 
 
 # dag 9
 #### Begin van de dag:
 Ik heb gisteren ervoor gezorgd dat de map naar behoren functioneerd. Je kunt nu met de muis er over hoveren en dan geeft hij in een tooltip weer hoe de wijk of buurt heet, en de tooltip verdwijnt op het moment dat je de muis van de map af beweegt. Daarnaast heb ik een functie geschreven die in een dataset in een bepaalde kolom kijkt hoe vaak een bepaalde term erin voor komt. Deze functie wordt aangeroepen wanneer je voor het eerst met je muis over een wijk heen gaat, zodat je kunt zien hoeveel patienten er met een bepaalde aandoening wonen. Deze waardes worden in een archief opgeslagen, zodat ze weer aangeroepen kunnen worden en niet steeds opnieuw berekend hoeven te worden. Vandaag wil ik beginnen met de box waarin je kunt zoeken naar specifieke aandoeningen. Ik wil in ieder geval ervoor zorgen dat je aan het einde van de dag er een aandoening of klacht in kunt selecteren, maar dit hoeft nog niet via een zoekfunctie te zijn, het mag ook via een tremap structuur. Ik ga eerst maar eens opzoek naar voorbeelden van één van de twee.

# dag 14
#### Einde van de dag:
Ik had eerst een mooi lang stuk getypt over waar ik nu ben met mijn project, totdat de browser besloot om maar naar de vorige pagina te gaan en mijn verhaal te verwijderen. Dus hier nogmaals een beknopte variant van mijn progressie van de laatste dagen. Ik ben bezig met het maken van een tree map waarmee je aandoeningen kunt selecteren, maar dit is nog best wel veel werk, dus het leek mij wijzer om eerst de hele visualisatie globaal af te maken. Er is wel de mogelijkheid om door een beperkt aantal codes te cyclen, zodat ik kon testen of de map werkt. De map kleurt de wijken nu in op basis van het aantal patienten met de geselecteerde aandoening. Er is daarnaast de mogelijkheid om te kiezen of absolute getallen of verhouding gezien willen worden. De interface is nog lang niet af, deze functies zijn tijdelijk ingebouwd in knoppen. Alle functionaliteit van de map is nu af en moet alleen nog gepolijst worden. 

Design choices: De map wordt ingekleurd met een lineaire kleurschaal die loopt van wit (weinig) naar donker blauw (veel). Ik heb gekozen voor een lineaire kleurenschaal en niet voor een ordinale kleurenschaal. Het doel van de map was om in één blik te laten zien waar de meeste geselecteerde patienten zich bevinden, dit kan met beide schalen. Ik heb toch voor de lineaire gekozen omdat ik geen goede rede heb om het aantal patienten in categorieen te verdelen. 
Ik heb er voor gekozen om op de tooltip maar één waarde weer te geven (absoluut of verhouding). Het is nu niet mogelijk om in de tooltip beide waarden te zien. Dit zou handig kunnen zijn, dus ik zit er aan te denken om de in bar chart de optie te maken om beide tegelijk weer te geven, dus voor elke buurt of wijk twee aan elkaar geplakte bars met beide een eigen kleur om of absolute waarden, of relatieve waarden te representeren. Het is voor de map duidelijker om in de tooltip maar één van deze waardes weer te geven, aangezien dan aan de tooltip te zien is welke waarde er op de map wordt gepresenteerd. 
